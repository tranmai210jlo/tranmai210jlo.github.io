<!doctype html>
<html lang="vi">
<title>Tin tức & Kinh nghiệm MXD – Mẹo thi công & vật tư</title>
<meta name="description" content="Mẹo thi công, bảng giá, quy định & chọn vật tư thông minh – gọn, dễ tra cứu.">
<link rel="canonical" href="https://tranmai210jlo.github.io/tin-tuc/">

<meta property="og:type" content="website">
<meta property="og:url" content="https://tranmai210jlo.github.io/tin-tuc/">
<meta property="og:title" content="Tin tức & Kinh nghiệm MXD">
<meta property="og:description" content="Mẹo thi công, bảng giá, quy định & chọn vật tư.">
<meta property="og:image" content="https://tranmai210jlo.github.io/assets/og-news.jpg">
<meta property="og:image:width" content="1200"><meta property="og:image:height" content="630">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Tin tức & Kinh nghiệm MXD">
<meta name="twitter:description" content="Mẹo thi công, bảng giá, quy định & chọn vật tư.">
<meta name="twitter:image" content="https://tranmai210jlo.github.io/assets/og-news.jpg">
<head>
  <meta charset="utf-8">
 <title>Tin tức & Kinh nghiệm MXD – Mẹo thi công & vật tư</title>
<meta name="description" content="Tin tức & kinh nghiệm MXD: mẹo thi công, bảng giá, quy định pháp lý, chọn vật tư thông minh – gọn, dễ tra cứu.">
  <link rel="icon" href="/assets/placeholder.png">
  <meta name="color-scheme" content="dark">
  <style>
    :root{
      color-scheme: dark;
      --bg:#0b0f14; --card:#121821; --muted:#93a4b7; --text:#eaf2ff;
      --brand:#5eead4; --brand2:#60a5fa; --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background: radial-gradient(1200px 600px at top right,#0d1520,#0b0f14 40%),var(--bg); color:var(--text)}
    a{color:inherit; text-decoration:none}

    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    .nav{position:sticky;top:0;z-index:30;background:rgba(11,15,20,.7);backdrop-filter:blur(8px);
      border-bottom:1px solid rgba(255,255,255,.06)}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800}
    .logo{height:34px;width:34px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand2));
      display:grid;place-items:center;color:#001218;box-shadow:var(--shadow)}
    .pill{padding:10px 14px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08)}
    .hero{padding:40px 0 10px;text-align:center}
    .hero h1{margin:0 0 8px;font-size:clamp(26px,4vw,42px)}
    .muted{color:var(--muted)}

    /* Form tìm kiếm + lọc */
    .filters{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin:14px 0 18px}
    input[type="text"],select{padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);color:var(--text)}
    /* Dropdown tối & mũi tên */
    select{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding-right:42px;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="%2393a4b7" d="M0 0l6 8 6-8z"/></svg>');
      background-repeat:no-repeat;background-position:right 12px center}
    select option,select optgroup{background:#0b0f14;color:var(--text)}
    select:focus{outline:none;border-color:rgba(96,165,250,.6);box-shadow:0 0 0 3px rgba(96,165,250,.2)}
    @media (max-width:480px){select{font-size:16px}}

    /* Lưới bài viết */
    .grid{display:grid;gap:16px;grid-template-columns:repeat(1,minmax(0,1fr))}
    @media(min-width:700px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1024px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column}
    .thumb{aspect-ratio:16/10;background:#0f1621}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .content{padding:14px;display:grid;gap:8px}
    .meta{display:flex;gap:8px;flex-wrap:wrap;font-size:12px;color:var(--muted)}
    .tag{padding:4px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.1)}
    .btn{padding:12px 16px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:var(--text);cursor:pointer}
    .btn.brand{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#001218;border:none}
    .load{display:flex;justify-content:center;margin:18px 0 40px}
    footer{padding:38px 0;color:var(--muted);border-top:1px solid rgba(255,255,255,.06);margin-top:24px}

    /* FAB về trang chủ (gọn nhẹ) */
    .home-fab{position:fixed;right:16px;bottom:18px;z-index:10050;transition:.2s;transform:translateY(12px);opacity:0;pointer-events:none}
    .home-fab.show{transform:translateY(0);opacity:1;pointer-events:auto}
    .home-fab a{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;
      border:1px solid rgba(255,255,255,.08);background:linear-gradient(135deg,var(--brand),var(--brand2));color:#001218;font-weight:700;text-decoration:none;box-shadow:var(--shadow)}
  </style>
<title>MXD – Trang mua sắm đồ dùng xây dựng</title>
<meta name="description" content="Cửa hàng vật tư, keo ốp lát, chống thấm... Mua qua link affiliate hoặc đặt thi công trực tiếp.">
<link rel="canonical" href="https://tranmai210jlo.github.io/">

<meta property="og:type" content="website">
<meta property="og:url" content="https://tranmai210jlo.github.io/">
<meta property="og:site_name" content="MXD – Trang mua sắm đồ dùng xây dựng">
<meta property="og:title" content="MXD – Trang mua sắm đồ dùng xây dựng">
<meta property="og:description" content="Cửa hàng vật tư, keo ốp lát, chống thấm... Mua qua link affiliate hoặc đặt thi công trực tiếp.">
<meta property="og:image" content="https://tranmai210jlo.github.io/assets/og-home.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="MXD – Trang mua sắm đồ dùng xây dựng">
<meta name="twitter:description" content="Cửa hàng vật tư, keo ốp lát, chống thấm...">
<meta name="twitter:image" content="https://tranmai210jlo.github.io/assets/og-home.jpg">
</head>
<script>
// MXD — Tin tức: nạp /tin-tuc/posts.json + lọc danh mục/tìm kiếm
(async function () {
  const $list = document.getElementById('list');
  const $q    = document.getElementById('q');
  const $cat  = document.getElementById('cat');
  const $more = document.getElementById('more');

  const catNorm = v => {
    const raw = (v||'').trim().toLowerCase();
    return (!raw || raw.includes('tất cả')) ? '' : v;
  };

  let posts = [];
  try {
    const res = await fetch('/tin-tuc/posts.json', { cache: 'no-store' });
    if (!res.ok) throw new Error('posts.json HTTP ' + res.status);
    posts = await res.json();
  } catch (e) {
    console.error(e);
    $list.innerHTML = '<p style="opacity:.9">Không đọc được <code>tin-tuc/posts.json</code>.</p>';
    return;
  }

  document.getElementById('year')?.textContent = new Date().getFullYear();

  if ($cat && $cat.options.length <= 1) {
    if ($cat.options.length === 0) {
      const optAll = document.createElement('option');
      optAll.value = ''; optAll.textContent = 'Tất cả danh mục';
      $cat.appendChild(optAll);
    } else if ($cat.options[0].textContent.toLowerCase().includes('tất cả')) {
      $cat.options[0].value = '';
    }
    const cats = [...new Set(posts.map(p => p.category).filter(Boolean))].sort();
    for (const c of cats) {
      const opt = document.createElement('option');
      opt.value = c; opt.textContent = c;
      $cat.appendChild(opt);
    }
    $cat.value = '';
  }

  let page = 1;
  const PAGE_SIZE = 9;

  const card = (p) => {
    const dStr = new Date(p.date).toLocaleDateString('vi-VN');
    const tags = (p.tags || []).map(t => `<span class="tag">#${t}</span>`).join(' ');
    return `
      <article class="post-card" style="border:1px solid #2223;border-radius:12px;overflow:hidden;background:#111;box-shadow:0 2px 6px #0006">
        <a href="/tin-tuc/post.html?id=${encodeURIComponent(p.id)}" style="text-decoration:none;color:inherit">
          <img src="${p.cover||''}" alt="${p.title}" loading="lazy" style="width:100%;height:160px;object-fit:cover;display:block"/>
          <div style="padding:12px">
            <h3 style="margin:0 0 4px;font-size:1.05rem">${p.title}</h3>
            <p style="opacity:.9;margin:.25rem 0">${p.excerpt||''}</p>
            <div style="opacity:.8;font-size:.9rem;margin-bottom:6px">${dStr} · ${p.readingMins||5} phút đọc</div>
            <div style="display:flex;gap:.25rem;flex-wrap:wrap">${tags}</div>
          </div>
        </a>
      </article>`;
  };

  const filtered = () => {
    const q = ($q?.value || '').toLowerCase().trim();
    const c = catNorm($cat?.value || '');
    return posts.filter(p => {
      const hitCat = !c || p.category === c;
      const hay = [p.title, p.excerpt, ...(p.tags||[])].join(' ').toLowerCase();
      const hitQ = !q || hay.includes(q);
      return hitCat && hitQ;
    });
  };

  function render(reset=false) {
    const data = filtered();
    if (reset) page = 1;
    const slice = data.slice(0, page * PAGE_SIZE);
    $list.innerHTML = slice.length
      ? slice.map(card).join('')
      : '<p>Không có bài phù hợp.</p>';
    if ($more) $more.style.display = slice.length < data.length ? '' : 'none';
  }

  $q?.addEventListener('input', () => render(true));
  $cat?.addEventListener('change', () => render(true));
  $more?.addEventListener('click', () => { page++; render(false); });

  render(true);
})();
</script>
</body>
</html>
